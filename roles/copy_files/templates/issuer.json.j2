{
  "baseUrl": "{{ protocol }}://{{ basedomain }}/{{ instance.name }}",
  "enableCreateCredentials": true,
  "adminToken": "{{ instance.adminToken }}",
{% if instance.clientId is defined %}
  "clientId": "{{ instance.clientId }}",
{% endif %}
{% if instance.clientSecret is defined %}
  "clientSecret": "{{ instance.clientSecret }}",
{% endif %}
  "options": {
    "correlationId": "{{ instance.name }}",
    "definitionId": "{{ instance.name }}",
    "issuerOpts": {
      "didOpts": {
        "checkLinkedDomains": "if_present",
        "identifierOpts": {
          "identifier": "did:web:{{ instance.domain }}",
          "kmsKeyRef": "did:web:{{ instance.domain }}#{{ instance.hash }}"
        }
      }
    }
  }
{% if statuslists and statuslists.install %}
  ,"statusLists": {
{% for statuslist in statuslists.installations %}
    "{{ statuslist.credential }}": {
      "url": "https://{{ statuslists.domain }}/{{ statuslist.name }}",
      "purpose": "{{ statuslist.purpose }}",
      "size": {{ statuslist.size }},
      "token": "{{ statuslist.token }}",
      "revocationUrl": "https://{{ statuslists.domain }}/{{ statuslist.name }}/api/revoke"
    },
{% endfor %}
    "dummy": {}
  }
{% endif %}
}
