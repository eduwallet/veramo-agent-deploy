deploydomain: "dev.eduwallet.nl"
basedomain: "agent.{{ deploydomain }}"
verifierdomain: "verifier.{{deploydomain }}"
logdomain: "logs.{{ deploydomain }}"
enablehttps: "true"
protocol: "https"
enableverifier: true

# For identifying the issuers and signing the credentials, this deployment uses did:web keys
# associated with specific issuer domains, based on the front-end facing application that
# initiates the issuance flow.
# Different configurations can reuse the same did:web, for example if there is a need for two
# different credential metadata configurations (one with pre-auth only, one with authorization_code
# only) that are both linked to the same front-end-facing application.
#
# In theory, all configurations could use the same single did:web key
#
dids:
  - name: mbob
    domain: "mbob.{{ deploydomain }}"
  - name: uvh
    domain: "uvh.{{ deploydomain }}"
  - name: tun
    domain: "tun.{{ deploydomain }}"
  - name: nlgov
    domain: "nl.gov.{{ deploydomain }}"
  - name: nbgov
    domain: "nb.gov.{{ deploydomain }}"
  - name: epi
    domain: "epi.{{ deploydomain }}"

# For identifying the verifiers and signing the authorization requests, we use did:keys
# instead of did:web values. This keeps the verifiers nimble and relocatable without
# having to configure reverse proxies. New verifiers can be easily added regardless of
# the domain name. We only require a name for each key.
verifier_dids:
  - name: demovp
  - name: proxy

# This defines the list of credential configurations that the agent can potentially supply inside
# the credential metadata. These configuration files are referenced in the metadata specifications
# for easy reuse and ensuring that all configurations are constituted in the same way.
credential_configurations:
  - name: AcademicBaseCredential
    template: abc.json.j2
  - name: PID
    template: pid.json.j2

# This defines the list of Presentation Definitions. Each definition is a way to request a certain
# credential-with-attributes. As long as we do not have SD-JWT credentials, we will always get the
# entire credential anyway, so the list is short at first
presentation_configurations:
  - id: ABC
    name: "Academic Base Credential"
    template: pres_abc.json.j2
    purpose: "We need to establish your base Academic relation"
  - id: PID
    name: "Personal ID"
    template: pres_pid.json.j2
    purpose: "We need to establish your basic identity"

# The list of installations defines the subpaths on the veramo-agent that the agent will listen to.
# Each installation comes with its own credential metadata and well-known endpoints.
# The name of the installation is used as the router path as well as the issuer configuration name
# and the correlation-id to match issuer configuration with metadata configuration
# preauthcode is used in the testing phase as a pre-configured but random token
# adminToken is the bearer token that needs to be provided by the front-end issuer when calling create-offer
# credential is the specific credential this issuer will provide. TODO: support multiple credentials
# domain is used to determine the did:web key name. TODO: fix this with a proper did name
# hash is the key identifier of the did:web used and must be manually retrieved from the database after
#   first deployment. TODO: fix the agent to get the key based on the identifier instead
# pubName is the public name of the issuer, used in the metadata
# branding is the issuer specific branding for the one credential that is issued. TODO: support multiple credentials
installations:
  - name: mbob
    preauthcode: 9slAxx0AgJjHtS2hChULnPvExeYsLLpu
    adminToken: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
                966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
                6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
                563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
                33323263313639326534643164663532643864633431323664353233643934646537643164333938
    credential: AcademicBaseCredential
    domain: "mbob.{{ deploydomain }}"
    hash: "bf698b7dadb7ca6ed8334dbad87a4a4a95a3fda988ee837b44ed5fce387b0261"
    pubName: "MBO Beek"
    branding:
      name: "Academic Base Credential"
      description: "Basic credential indicating affiliation with MBO Beek"
      logo: https://mbob.dev.eduwallet.nl/images/mbob_credential_logo.png
      logo_alttext: "MBO Beek"
      card: https://mbob.dev.eduwallet.nl/images/mbob_credential_bg.png
      color: '#ffffff'
      background_color: '#8f0f12'
  - name: tun
    preauthcode: vG8T2WNVFGs0TSzx135XHDzNRWO3FFKM
    adminToken: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
                966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
                6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
                563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
                33323263313639326534643164663532643864633431323664353233643934646537643164333938
    credential: AcademicBaseCredential
    domain: "tun.{{ deploydomain }}"
    hash: "095260b0509b1ef98fc0e0bafb07038013eb9f875e7674cc3d80e66ffba7b367"
    pubName: "Theed University of Naboo"
    branding:
      name: "Academic Base Credential"
      description: "Basic credential indicating affiliation with the Theed University of Naboo"
      logo: https://tun.dev.eduwallet.nl/images/tun_credential_logo.png
      logo_alttext: "Theed University of Naboo with a partial planet image"
      card: https://tun.dev.eduwallet.nl/images/tun_credential_bg.png
      color: '#ffffff'
      background_color: '#0501ed'
  - name: uvh
    preauthcode: Maefv4wHYigySVRQWyTgml52wWLUHH5d
    adminToken: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
                966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
                6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
                563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
                33323263313639326534643164663532643864633431323664353233643934646537643164333938
    credential: AcademicBaseCredential
    domain: "uvh.{{ deploydomain }}"
    hash: "70f164a46dc22e767e410c0bba14b6aa7cb2e53b9f7b81f0171d04dd7d0ed785"
    pubName: "University of Harderwijk"
    branding:
      name: "Academic Base Credential"
      description: "Basic credential indicating affiliation with the University of Harderwijk"
      logo: https://uvh.dev.eduwallet.nl/images/uvh_credential_logo.png
      logo_alttext: "Harderwijk with the University of Harderwijk logo displaying a crowned lady with a staff and shield and the latin text reading 'Academiae Ducatus Gelriae et Comitatus Zutphaniae Sacrum' around"
      card: https://uvh.dev.eduwallet.nl/images/uvh_credential_bg.png
      color: '#ffffff'
      background_color: '#4779aa'
  - name: nlgov
    preauthcode: G0WAuJwHxtv2dqAMfoDsopRBjTpavttJ
    adminToken: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
                966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
                6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
                563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
                33323263313639326534643164663532643864633431323664353233643934646537643164333938
    credential: PID
    domain: "nl.gov.{{ deploydomain }}"
    hash: "731c51bfaa95271f35e472afd59e1a4ab9dc70519ed8836f3bb5e163cd8bdda9"
    pubName: "Kingdom of the Netherlands"
    branding:
      name: "Personal ID"
      description: "Personal Identity Document of the Kingdom of the Netherlands"
      logo: https://nl.gov.dev.eduwallet.nl/images/nlgov_credential_logo.png
      logo_alttext: "Weapon of the Kingdom with two lions and the text Digitale Zaken"
      card: https://nl.gov.dev.eduwallet.nl/images/nlgov_credential_bg.png
      color: '#ffffff'
      background_color: '#DFF4FF'
  - name: nbgov
    preauthcode: WrBAlTNCBfUHDWHtYF0nkV9aJqBVIP5z
    adminToken: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
                966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
                6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
                563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
                33323263313639326534643164663532643864633431323664353233643934646537643164333938
    credential: PID
    domain: "nb.gov.{{ deploydomain }}"
    hash: "2290bb57a2b501730db6610e0a6e371f3d3d4c8e174bf9f76e1dc7244f4ae409"
    pubName: "Galactic Republic of Naboo"
    branding:
      name: "Personal ID"
      description: "Personal Identity Document of the Galactic Republic of Naboo"
      logo: https://nb.gov.dev.eduwallet.nl/images/nbgov_credential_logo.png
      logo_alttext: "French tulip like logo with Digital Affairs subtitle"
      card: https://nb.gov.dev.eduwallet.nl/images/nbgov_credential_bg.png
      color: '#ffffff'
      background_color: '#B1A77F'
  - name: epi
    preauthcode: 4GOmhdYyDWfGXT7R21iQ0qB8aBFhYAc9
    adminToken: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
                966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
                6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
                563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
                33323263313639326534643164663532643864633431323664353233643934646537643164333938
    credential: AcademicBaseCredential
    domain: "epi.{{ deploydomain }}"
    hash: "0debce0ffee8724769a3f487b3145d9432785520f5d00b47c4a18c33a8ecaeb8"
    pubName: "Educational Public Issuer"
    branding:
      name: "Academic Base Credential"
      description: "Academic Base Credential"
      logo: ''
      logo_alttext: "None"
      card: ''
      color: '#ffffff'
      background_color: '#4779aa'
#  - name: mbobauth
#    as: https://accounts.google.com/o/oauth2/v2/auth
#    clientId: 360647652784-plphvvi20k2ot1t3esjj1890sdnkhciu.apps.googleusercontent.com
#    clientSecret: !vault |
#                  $ANSIBLE_VAULT;1.1;AES256
#                  65306261653661633436643163653432373162336630633266323762363336333938663130636364666637633433646337363
#                  7653435623437323436376537620a643230353135653635356166326132373739623264356231376366366434653766643238
#                  363836636638616262383565373564666336666637663732616565660a3466353239373362363030383032636265356132306
#                  56336326535633731383761373535346330346434663430356136336361663138366431393137396639333964626437353036
#                  343566653536363362646634396632373364343338376532
#    credential: BaseAcademicCredential
#    domain: "mbob.{{ deploydomain }}"
#    hash: "02ad6064f20905decbcf4a45ba7aabb3c035749121e7de0791f08f84bfb7b97d83"
#    pubName: "MBO Beek"


verifiers:
  - name: demovp
    path: "/demovp"
    presentations:
      - ABC
      - PID
    testPresentation: PID
    token: !vault |
           $ANSIBLE_VAULT;1.1;AES256
           3965356364643262653030356633366461343763373963383965646361373430323331646232656632343861633863396536
           63323666366238363736343832640a6262613365343330623433623633396337343239656363333837323265356330393137
           63303763383434313633646131343664376330353033353931373866650a6530336630663362386136616339656333363437
           3866323439353663653862376638393135303031393236313766303266623232323163643465663863616136383137363736
           6564396638633665386537616562663730313232326461653237
  - name: proxy
    path: "/proxy"
    presentations:
      - ABC
      - PID
    testPresentation: ABC
    token: !vault |
           $ANSIBLE_VAULT;1.1;AES256
           6462303466326135366434313764363438303866363066306234346364366434373637343032663665613866343862326465
           36333137376637326562623033630a3464343339623735613161376165393764303232653264616532353335663039646538
           32313630333930356630663930383538343334346638613465383638310a3935366163666537303939636562386164623937
           6363306530376362366133303939636335666534393233646432353235666163366436346330663937646666366530326330
           6432383066313264386566383636663038316634363335353631

verifierdeploy:
  install: true
  dir: "{{ basedir }}/verifierdeploy"
  installations:
    - name: democv
      port: 8001
      domain: "demo-cv.verifier.{{ deploydomain }}"
      path: demo-cv
      envtemplate: democv.env.j2
      verifier: demovp
      presentations: ABC,PID
      token: !vault |
             $ANSIBLE_VAULT;1.1;AES256
             3965356364643262653030356633366461343763373963383965646361373430323331646232656632343861633863396536
             63323666366238363736343832640a6262613365343330623433623633396337343239656363333837323265356330393137
             63303763383434313633646131343664376330353033353931373866650a6530336630663362386136616339656333363437
             3866323439353663653862376638393135303031393236313766303266623232323163643465663863616136383137363736
             6564396638633665386537616562663730313232326461653237
