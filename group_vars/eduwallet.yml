deploydomain: "dev.eduwallet.nl"
basedomain: "agent.{{ deploydomain }}"
verifierdomain: "verifier.{{deploydomain }}"
logdomain: "logs.{{ deploydomain }}"
enablehttps: "true"
protocol: "https"
enableverifier: true

tokens:
  mbob:
    admin:  !vault |
            $ANSIBLE_VAULT;1.1;AES256
            396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
            966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
            6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
            563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
            33323263313639326534643164663532643864633431323664353233643934646537643164333938
    status: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            376266366661323663626332333666323531663034363731353537396332626138323034623966343036333761306
            337333837626637363935666439396134630a30623364343736643466316663316161656237366435363039333233
            6366623135313833353234636332653965383230643865386238386339636239663236660a6138323661653465613
            763396162383536633739383335376331343630313739626233636561363032666364376338323437613838373964
            33643465326465353738333232626336336562663764663335363963653038326163626631373637
  tun:
    admin:  !vault |
            $ANSIBLE_VAULT;1.1;AES256
            396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
            966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
            6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
            563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
            33323263313639326534643164663532643864633431323664353233643934646537643164333938
    status: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            333366326333396238613462313138376337373133343238663565323732646133613734356431346364396164363
            963393332663839643434326237376131330a39633433323161373836633834626438623132363462306633373035
            3836373461626663373662386635323865333363636236356666393632313866343331660a6539643737643232313
            263333661353732313933323138616339636462613434653065633531626533616166396137356434303030663563
            32623231653738363837613931333131323135393637643633626238643031313330636134656661
  uvh:
    admin:  !vault |
            $ANSIBLE_VAULT;1.1;AES256
            396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
            966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
            6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
            563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
            33323263313639326534643164663532643864633431323664353233643934646537643164333938
    status: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            366665316231333336353532653735313839333038303730633030646134343761326536336366383038616563653
            363303636353533653237393633633361310a62656134343733303538633832366131646239396434653465373637
            6333653066386635386261363837663435333764313761393466653530313963646566340a6133636136613034633
            834336231613934323865323332303439666638656666393330316538376466313063333663373133626262396462
            31353232333439643538343036383964373531623339626238386535316334366333393138663465
  nlgov:
    admin:  !vault |
            $ANSIBLE_VAULT;1.1;AES256
            396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
            966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
            6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
            563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
            33323263313639326534643164663532643864633431323664353233643934646537643164333938
    status: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            663534373762333634323635373134636639376338653566613536616430333435623233633464623330303832306
            639386634363566636237373836386662640a61656236396131356235626133396262316164333366636562346532
            6438383065643561326230653336356362626238646631353062663066316132396464380a3938633637646664646
            436353864613039323639636531323939326635363862323434386235356163646335643732353333613766613961
            31636236303161366362653161313864653362396161353835343362356432356138326266613437
  nbgov:
    admin:  !vault |
            $ANSIBLE_VAULT;1.1;AES256
            396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
            966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
            6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
            563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
            33323263313639326534643164663532643864633431323664353233643934646537643164333938
    status: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            656631343061653636623232636565333961323736393235396630383839303433656330386233383231616461346
            538636336386265363235393132306537610a31646636373339353330356539636632353232343935383336393465
            3463623837353262663630656134313935383963663239313334393564643938666434390a3766626135666665633
            166653739666531313736336465346430356339326364393138613462313938326133656338313730343537386139
            38663261623836383136353833333136666133343464393239363662633733653930366439393932
  epi:
    admin:  !vault |
            $ANSIBLE_VAULT;1.1;AES256
            396132323461653037356437363166343135663530633939376566653132653636636431656264386538666431343
            966333237623263346532616238663938340a63666138653664323833613761356162366661633630393333613264
            6534646535643966323733663264326330333635346266303164633564643738313239320a6136626231376539326
            563303863346662356638326234646235653566336136643866356239666338646332626437323139326632646662
            33323263313639326534643164663532643864633431323664353233643934646537643164333938
    status: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            306135616537333464343166626565346431313430643735306132356630336230623537363564353932633761623
            731336439656565643737333362356636640a32633162316362613165396536663761373833653536656661306461
            3637333732336537653864643435626437346335333235323264326238323731663231620a3835663633353466396
            566333363303934636266643530393637323033373565643539323836623961663461643238353734373434613835
            66323036663131353765333366383636646265656566373538343131393166623133643363376236
  demovp:
    admin:  !vault |
            $ANSIBLE_VAULT;1.1;AES256
            39653563646432626530303566333664613437633739633839656463613734303233316462326566323438616338633
            9653663323666366238363736343832640a626261336534333062343362363339633734323965636333383732326535
            633039313763303763383434313633646131343664376330353033353931373866650a6530336630663362386136616
            33965633336343738663234393536636538623766383931353030313932363137663032666232323231636434656638
            636161363831373637366564396638633665386537616562663730313232326461653237
  proxy:
    admin:  !vault |
            $ANSIBLE_VAULT;1.1;AES256
            64623034663261353664343137643634383038663630663062343463643664343736373430326636656138663438623
            2646536333137376637326562623033630a346434333962373561316137616539376430323265326461653235333566
            303964653832313630333930356630663930383538343334346638613465383638310a3935366163666537303939636
            56238616462393763633065303763623661333039396363356665343932336464323532356661633664363463306639
            376466663665303263306432383066313264386566383636663038316634363335353631
  sandbox:
    admin:  !vault |
            $ANSIBLE_VAULT;1.1;AES256
            65313036356563386238633039313761303364613066613036663836636263303662303062373762376137363761386
            1303862363831626361353339646331370a333339633263343736326234303735646535656563653638613235343235
            396166636134653062316666366430316236663931343264643263393038613839350a6439613735643532616530336
            16131663133323866383266353333396136343637383030613362383762313930636463323330616137613263333031
            633636333135666665396466326465323239383734313833666635656430396565343062
    status: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            34353136666438393832356465666363313964303234383638336264306465376466356337376330656239613738376
            4326266303036323138303938333530620a326434666637333765363962343439616430613430303937303639396663
            663266626266393337613136373837653739666464633464613938383865393131640a3662316438653765346536613
            33032616661653534346234613866373865613165336431323338626330616661383934383065306532666261626363
            653035666239356637356565353961313063306131613464306434353731316261353133
    verAdmin: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            38303565386362373837333531343638356631316135343335663361303966393265383961326330366137393234373
            2316366613761663263646266336665390a343132333239666264373165613939306634386665666639333639366364
            336232613530383363343466613263313537303963343163323135316135663231620a6361323731323532633435623
            23038326562663137333737323634356536653232666638316339366265643833373061663766366532623330643139
            356332316636656534373030663666323266643132343236316534343061613365333930


# For identifying the issuers and signing the credentials, this deployment uses did:web keys
# associated with specific issuer domains, based on the front-end facing application that
# initiates the issuance flow.
# Different configurations can reuse the same did:web, for example if there is a need for two
# different credential metadata configurations (one with pre-auth only, one with authorization_code
# only) that are both linked to the same front-end-facing application.
#
# In theory, all configurations could use the same single did:web key
#
dids:
  - name: mbob
    domain: "mbob.{{ deploydomain }}"
  - name: uvh
    domain: "uvh.{{ deploydomain }}"
  - name: tun
    domain: "tun.{{ deploydomain }}"
  - name: nlgov
    domain: "nl.gov.{{ deploydomain }}"
  - name: nbgov
    domain: "nb.gov.{{ deploydomain }}"
  - name: epi
    domain: "epi.{{ deploydomain }}"
  - name: sandbox
    domain: "sandbox.{{ deploydomain }}"

contexts:
  - dest: gcldp.json
    src: gcldp_context.json.j2

# For identifying the verifiers and signing the authorization requests, we use did:keys
# instead of did:web values. This keeps the verifiers nimble and relocatable without
# having to configure reverse proxies. New verifiers can be easily added regardless of
# the domain name. We only require a name for each key.
verifier_dids:
  - name: demovp
  - name: proxy
  - name: sandbox

# This defines the list of credential configurations that the agent can potentially supply inside
# the credential metadata. These configuration files are referenced in the metadata specifications
# for easy reuse and ensuring that all configurations are constituted in the same way.
credential_configurations:
  - name: AcademicBaseCredential
    template: abc.json.j2
  - name: PID
    template: pid.json.j2
  - name: GenericCredential
    template: gc.json.j2
  - name: GenericCredentialLD
    template: gc_ldp.json.j2
  - name: AcademicEnrollmentCredential
    template: aec.json.j2

# This defines the list of Presentation Definitions. Each definition is a way to request a certain
# credential-with-attributes. As long as we do not have SD-JWT credentials, we will always get the
# entire credential anyway, so the list is short at first
presentation_configurations:
  - id: ABC
    name: "Academic Base Credential"
    template: pres_abc.json.j2
    purpose: "We need to establish your base Academic relation"
  - id: PID
    name: "Personal ID"
    template: pres_pid.json.j2
    purpose: "We need to establish your basic identity"
  - id: GC
    name: "Generic Proeftuin Credential"
    template: pres_gc.json.j2
    purpose: "Proeftuin requires the credential content"
  - id: GCLDP
    name: "Generic Proeftuin Credential"
    template: pres_gc_ldp.json.j2
    purpose: "Proeftuin requires the credential content"

# The list of installations defines the subpaths on the veramo-agent that the agent will listen to.
# Each installation comes with its own credential metadata and well-known endpoints.
# The name of the installation is used as the router path as well as the issuer configuration name
# and the correlation-id to match issuer configuration with metadata configuration
# preauthcode is used in the testing phase as a pre-configured but random token
# adminToken is the bearer token that needs to be provided by the front-end issuer when calling create-offer
# credential is the specific credential this issuer will provide. TODO: support multiple credentials
# domain is used to determine the did:web key name. TODO: fix this with a proper did name
# hash is the key identifier of the did:web used and must be manually retrieved from the database after
#   first deployment. TODO: fix the agent to get the key based on the identifier instead
# pubName is the public name of the issuer, used in the metadata
# branding is the issuer specific branding for the one credential that is issued. TODO: support multiple credentials
installations:
  - name: mbob
    test:
      preauthcode: 9slAxx0AgJjHtS2hChULnPvExeYsLLpu
      credential: AcademicBaseCredential
      object:
        sub:
          - "12"
        eduperson_unique_id:
          - "abracadabra"
        given_name:
          - "test"
        family_name:
          - "janssen"
        email:
          - "test@example.org"
    adminToken: "{{ tokens.mbob.admin }}"
    statusToken: "{{ tokens.mbob.status }}"
    logo: https://mbob.dev.eduwallet.nl/images/mbob_credential_logo.png
    logo_alttext: "MBO Beek"
    credentials: 
      AcademicBaseCredential:
        name: "Academic Base Credential"
        description: "Basic credential indicating affiliation with MBO Beek"
        logo: https://mbob.dev.eduwallet.nl/images/mbob_credential_logo.png
        logo_alttext: "MBO Beek"
        card: https://mbob.dev.eduwallet.nl/images/mbob_credential_bg.png
        color: '#ffffff'
        background_color: '#8f0f12'
      AcademicEnrollmentCredential:
        name: "Academic Enrollment Credential"
        description: "Proof of enrollment in the MBO Beek programme"
        logo: https://mbob.dev.eduwallet.nl/images/mbob_credential_logo.png
        logo_alttext: "MBO Beek"
        card: https://mbob.dev.eduwallet.nl/images/mbob_credential_bg.png
        color: '#ffffff'
        background_color: '#8f0f12'
    domain: "mbob.{{ deploydomain }}"
    hash: "bf698b7dadb7ca6ed8334dbad87a4a4a95a3fda988ee837b44ed5fce387b0261"
    pubName: "MBO Beek"
  - name: tun
    test:
      preauthcode: vG8T2WNVFGs0TSzx135XHDzNRWO3FFKM
      credential: AcademicBaseCredential
      object:
        sub:
          - "12"
        eduperson_unique_id:
          - "abracadabra"
        given_name:
          - "test"
        family_name:
          - "janssen"
        email:
          - "test@example.org"
    adminToken: "{{ tokens.tun.admin }}"
    statusToken: "{{ tokens.tun.status }}"
    logo: https://tun.dev.eduwallet.nl/images/tun_credential_logo.png
    logo_alttext: "Theed University of Naboo with a partial planet image"
    credentials:
      AcademicBaseCredential:
        name: "Academic Base Credential"
        description: "Basic credential indicating affiliation with the Theed University of Naboo"
        logo: https://tun.dev.eduwallet.nl/images/tun_credential_logo.png
        logo_alttext: "Theed University of Naboo with a partial planet image"
        card: https://tun.dev.eduwallet.nl/images/tun_credential_bg.png
        color: '#ffffff'
        background_color: '#0501ed'
    domain: "tun.{{ deploydomain }}"
    hash: "095260b0509b1ef98fc0e0bafb07038013eb9f875e7674cc3d80e66ffba7b367"
    pubName: "Theed University of Naboo"
  - name: uvh
    test:
      preauthcode: Maefv4wHYigySVRQWyTgml52wWLUHH5d
      credential: AcademicBaseCredential
      object:
        sub:
          - "12"
        eduperson_unique_id:
          - "abracadabra"
        given_name:
          - "test"
        family_name:
          - "janssen"
        email:
          - "test@example.org"
    adminToken: "{{ tokens.uvh.admin }}"
    statusToken: "{{ tokens.uvh.status }}"
    logo: https://uvh.dev.eduwallet.nl/images/uvh_credential_logo.png
    logo_alttext: "Harderwijk with the University of Harderwijk logo displaying a crowned lady with a staff and shield and the latin text reading 'Academiae Ducatus Gelriae et Comitatus Zutphaniae Sacrum' around"
    credentials:
      AcademicBaseCredential:
        name: "Academic Base Credential"
        description: "Basic credential indicating affiliation with the University of Harderwijk"
        logo: https://uvh.dev.eduwallet.nl/images/uvh_credential_logo.png
        logo_alttext: "Harderwijk with the University of Harderwijk logo displaying a crowned lady with a staff and shield and the latin text reading 'Academiae Ducatus Gelriae et Comitatus Zutphaniae Sacrum' around"
        card: https://uvh.dev.eduwallet.nl/images/uvh_credential_bg.png
        color: '#ffffff'
        background_color: '#4779aa'
      AcademicEnrollmentCredential:
        name: "Academic Enrollment Credential"
        description: "Proof of enrollment in the UvH programme"
        logo: https://uvh.dev.eduwallet.nl/images/uvh_credential_logo.png
        logo_alttext: "Harderwijk with the University of Harderwijk logo displaying a crowned lady with a staff and shield and the latin text reading 'Academiae Ducatus Gelriae et Comitatus Zutphaniae Sacrum' around"
        card: https://uvh.dev.eduwallet.nl/images/uvh_credential_bg.png
        color: '#ffffff'
        background_color: '#4779aa'
    domain: "uvh.{{ deploydomain }}"
    hash: "70f164a46dc22e767e410c0bba14b6aa7cb2e53b9f7b81f0171d04dd7d0ed785"
    pubName: "University of Harderwijk"
  - name: nlgov
    test:
      preauthcode: G0WAuJwHxtv2dqAMfoDsopRBjTpavttJ
      credential: PID
      object:
        personal_administrative_number: "42"
        document_number: "1"
        given_name: "test"
        family_name: "janssen"
        nationality: "example"
    adminToken: "{{ tokens.nlgov.admin }}"
    statusToken: "{{ tokens.nlgov.status }}"
    logo: https://nl.gov.dev.eduwallet.nl/images/nlgov_credential_logo.png
    logo_alttext: "Weapon of the Kingdom with two lions and the text Digitale Zaken"
    credentials:
      PID:
        name: "Personal ID"
        description: "Personal Identity Document of the Kingdom of the Netherlands"
        card: https://nl.gov.dev.eduwallet.nl/images/nlgov_credential_bg.png
        color: '#ffffff'
        background_color: '#DFF4FF'
    domain: "nl.gov.{{ deploydomain }}"
    hash: "731c51bfaa95271f35e472afd59e1a4ab9dc70519ed8836f3bb5e163cd8bdda9"
    pubName: "Kingdom of the Netherlands"
  - name: nbgov
    test:
      preauthcode: WrBAlTNCBfUHDWHtYF0nkV9aJqBVIP5z
      credential: PID
      object:
        personal_administrative_number: "42"
        document_number: "1"
        given_name: "test"
        family_name: "janssen"
        nationality: "example"
    adminToken: "{{ tokens.nbgov.admin }}"
    statusToken: "{{ tokens.nbgov.status }}"
    logo: https://nb.gov.dev.eduwallet.nl/images/nbgov_credential_logo.png
    logo_alttext: "French tulip like logo with Digital Affairs subtitle"
    credentials:
      PID:
        name: "Personal ID"
        description: "Personal Identity Document of the Galactic Republic of Naboo"
        logo: https://nb.gov.dev.eduwallet.nl/images/nbgov_credential_logo.png
        logo_alttext: "French tulip like logo with Digital Affairs subtitle"
        card: https://nb.gov.dev.eduwallet.nl/images/nbgov_credential_bg.png
        color: '#ffffff'
        background_color: '#B1A77F'
    domain: "nb.gov.{{ deploydomain }}"
    hash: "2290bb57a2b501730db6610e0a6e371f3d3d4c8e174bf9f76e1dc7244f4ae409"
    pubName: "Galactic Republic of Naboo"
    branding:
  - name: epi
    test:
      preauthcode: 4GOmhdYyDWfGXT7R21iQ0qB8aBFhYAc9
      credential: AcademicBaseCredential
      object:
        sub:
          - "12"
        eduperson_unique_id:
          - "abracadabra"
        given_name:
          - "test"
        family_name:
          - "janssen"
        email:
          - "test@example.org"
    adminToken: "{{ tokens.epi.admin }}"
    statusToken: "{{ tokens.epi.status }}"
    credentials:
      AcademicBaseCredential:
        name: "Academic Base Credential"
        description: "Academic Base Credential"
        color: '#ffffff'
        background_color: '#4779aa'
    domain: "epi.{{ deploydomain }}"
    hash: "0debce0ffee8724769a3f487b3145d9432785520f5d00b47c4a18c33a8ecaeb8"
    pubName: "Educational Public Issuer" 
  - name: sandbox
    test:
      preauthcode: bffy0TXajRTnoujKCIhfOnIUYjqmucRa
      credential: PID
      object:
        personal_administrative_number: "42"
        document_number: "1"
        given_name: "test"
        family_name: "janssen"
        nationality: "example"
    adminToken: "{{ tokens.sandbox.admin }}"
    statusToken: "{{ tokens.sandbox.status }}"
    credentials:
      AcademicBaseCredential:
        name: "Academic Base Credential"
        description: "Academic Base Credential"
        color: '#ffffff'
        background_color: '#4779aa'
      PID:
        name: "Personal ID"
        description: "Personal Identity Document"
        color: '#ffffff'
        background_color: '#B1A77F'
      GenericCredential:
        name: "Generic Credential"
        description: "Generic Proeftuin Credential"
        color: '#ffffff'
        background_color: '#888888'
      GenericCredentialLD:
        name: "Generic Credential"
        description: "Generic Proeftuin Credential"
        color: '#ffffff'
        background_color: '#888888'
    domain: "sandbox.{{ deploydomain }}"
    hash: "938ad4612061d4897105e816c7ca0deb5857eaa69009767b2aad5d442bed5e49"
    pubName: "Sandbox Test Issuer"

verifiers:
  - name: demovp
    path: "/demovp"
    presentations:
      - ABC
      - PID
    testPresentation: PID
    token: "{{ tokens.demovp.admin }}"
  - name: proxy
    path: "/proxy"
    presentations:
      - ABC
      - PID
    testPresentation: ABC
    token: "{{ tokens.proxy.admin }}"
  - name: sandbox
    path: "/sandbox"
    presentations:
      - ABC
      - PID
      - GC
      - GCLDP
    testPresentation: ABC
    token: "{{ tokens.sandbox.verAdmin }}"

verifierdeploy:
  install: true
  dir: "{{ basedir }}/verifierdeploy"
  installations:
    - name: democv
      port: 8001
      domain: "demo-cv.verifier.{{ deploydomain }}"
      path: demo-cv
      envtemplate: democv.env.j2
      verifier: demovp
      presentations: ABC,PID
      token: "{{ tokens.demovp.admin }}"

# Statuslists
statuslists:
  install: true
  domain: "status.{{ deploydomain }}"
  dir: "{{ basedir }}/statuslist-agent"
  keytype: "ed25519"
  installations:
    - name: abcrevoke
      credential: AcademicBaseCredential
      purpose: revocation
      size: 131072
      tokens:
        - "{{ tokens.mbob.status }}"
        - "{{ tokens.tun.status }}"
        - "{{ tokens.uvh.status }}"
        - "{{ tokens.epi.status }}"
        - "{{ tokens.sandbox.status }}"
    - name: aecrevoke
      credential: AcademicEnrollmentCredential
      purpose: revocation
      size: 131072
      tokens:
        - "{{ tokens.mbob.status }}"
        - "{{ tokens.uvh.status }}"
    - name: pidrevoke
      credential: PID
      purpose: revocation
      size: 131072
      tokens:
        - "{{ tokens.nlgov.status }}" 
        - "{{ tokens.nbgov.status }}"
        - "{{ tokens.sandbox.status }}"
 